{% extends './body.html' %}

{% block title %}
Actualizaci√≥n de libros
{% endblock %}

{% block container %}
<form class="form-signin" action="/update_book" method="POST">
    <input type="hidden" name="_method" value="PUT">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="container">
        <div class="py-5 text-center">
            <h2>Actualiza un libro</h2>
            <p class="lead">LLena los campos para ingresar los nuevos datos del libro.</p>
        </div>

        <div class="container">
            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">

                    <div class="mb-3">
                        <h4 class="mb-3">Datos del libro</h4>
                        <label for="isbn">ISBN<span class="text-muted"> (del libro a actualizar)</span></label>
                        <div class="input-group">
                            <input type="text" class="form-control" name='isbn' id="isbn" placeholder="" maxlength="12">
                            <div style="position: relative !important; height: 0px !important; width: 0px !important; float: left !important;"
                                data-lastpass-icon-root=""></div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="title">T&iacute;tulo</label>
                        <input type="text" class="form-control" name='title' id="title" maxlength="100">
                    </div>

                    <div class="mb-3">
                        <label for="year">A&ntilde;o</label>
                        <input type="text" class="form-control" name='year' id="year" placeholder="yyyy">
                    </div>

                    <div class="mb-3">
                        <label for="price">Precio<span class="text-muted"> (sin signos)</span></label>
                        <input type="text" class="form-control" name='price' id="price">
                    </div>

                    <div class="mb-3">
                        <label for="author_id">Id del autor</label>
                        <input type="text" name='author_id'class="form-control" id="author_id">
                    </div>

                    <hr class="mb-4">
                    <button class="btn btn-primary btn-lg btn-block" type="submit">Ingresar datos</button>
                </form>

                {% with messages = get_flashed_messages(with_categories = True) %}
                {% if messages %}
                <br />
                {% for category, message in messages %}
                {% if category == 'warning'%}
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    <strong style="font-size: 14px;"> {{ message }} </strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% endif %}
                {% if category == 'success'%}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    <strong style="font-size: 14px;"> {{ message }} </strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% endif %}
                {% endfor %}
                {% endif %}
                {% endwith %}

            </div>
        </div>

        <footer class="my-5 pt-5 text-muted text-center text-small">
            <p class="mb-1">2024 - <em>Para todos los bolsillos</em></p>
        </footer>
    </div>
</form>

{% endblock %}